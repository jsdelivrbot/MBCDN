var EDIT={canvas:null,topBar:null,editor:null,codeMirror:null,lastCahnge:null,flgCollapsed:!1,arrAToZ:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],arrOneToTen:["1","2","3","4","5","6","7","8","9","0"],flgAutoIntellisense:!0,strEditorUrl:"https://rawgit.com/mbinnun/MBCDN/master/codemirror"};"undefined"!=typeof EDITstrEditorUrl&&EDITstrEditorUrl&&(EDIT.strEditorUrl=EDITstrEditorUrl),EDIT.appVersion="1.0","undefined"!=typeof EDITappVerion&&EDITappVerion&&(EDIT.appVersion=EDITappVerion),EDIT.libVersion="1.0",EDIT.CreateCanvas=function(){EDIT.canvas=BF.AddElementToDom(document.body,"div","canvas")},EDIT.CreateTopArea=function(){EDIT.topBar=BF.AddElementToDom(EDIT.canvas,"div","topbar"),EDIT.barIconSave=BF.AddElementToDom(EDIT.topBar,"span",null,"baricon save notactive",""),EDIT.barIconInfo=BF.AddElementToDom(EDIT.topBar,"span",null,"baricon info","File Info"),EDIT.barIconSelectLine=BF.AddElementToDom(EDIT.topBar,"span",null,"baricon selectline","Select Line"),EDIT.barIconSelectAll=BF.AddElementToDom(EDIT.topBar,"span",null,"baricon selectall","Select All"),EDIT.barIconCut=BF.AddElementToDom(EDIT.topBar,"span",null,"baricon cut notactive",""),EDIT.barIconCopy=BF.AddElementToDom(EDIT.topBar,"span",null,"baricon copy notactive",""),EDIT.barIconPaste=BF.AddElementToDom(EDIT.topBar,"span",null,"baricon paste notactive",""),EDIT.barIconFind=BF.AddElementToDom(EDIT.topBar,"span",null,"baricon find","Find"),EDIT.barIconFindNext=BF.AddElementToDom(EDIT.topBar,"span",null,"baricon findnext","Find Next"),EDIT.barIconReplace=BF.AddElementToDom(EDIT.topBar,"span",null,"baricon replace","Replace"),EDIT.barIconUndo=BF.AddElementToDom(EDIT.topBar,"span",null,"baricon undo","Undo"),EDIT.barIconRedo=BF.AddElementToDom(EDIT.topBar,"span",null,"baricon undo fliph","Redo"),EDIT.barIconCollapse=BF.AddElementToDom(EDIT.topBar,"span",null,"baricon collapseall","Collapse/Uncollapse All"),EDIT.barIconHint=BF.AddElementToDom(EDIT.topBar,"span",null,"baricon hint","Hint")},EDIT.CreateEditorArea=function(){EDIT.editor=BF.AddElementToDom(EDIT.canvas,"div","editor")},EDIT.LoadLocalCss=function(){BF.LoadAsyncCss(EDIT.strEditorUrl+"/edit.min.css?v="+EDIT.appVersion)},EDIT.ShowFileInfo=function(){var e="Full Path = "+EDIT.filePath;e+="\nFile Type = "+EDIT.fileType,alert(e),EDIT.codeMirror.focus()},EDIT.SelectLine=function(){EDIT.codeMirror.focus();var e=EDIT.codeMirror.getCursor().line;EDIT.codeMirror.setSelection({line:e,ch:0},{line:e+1,ch:0}),EDIT.codeMirror.focus()},EDIT.SelectAll=function(){EDIT.codeMirror.focus(),EDIT.codeMirror.execCommand("selectAll"),EDIT.codeMirror.focus()},EDIT.Cut=function(){EDIT.codeMirror.focus(),EDIT.codeMirror.getSelection()&&""!=EDIT.codeMirror.getSelection()&&(EDIT.copiedText=EDIT.codeMirror.getSelection(),EDIT.codeMirror.replaceSelection(""),EDIT.codeMirror.focus(),EDIT.UpdatePaste())},EDIT.Copy=function(){EDIT.codeMirror.focus(),EDIT.codeMirror.getSelection()&&""!=EDIT.codeMirror.getSelection()&&(EDIT.copiedText=EDIT.codeMirror.getSelection(),EDIT.codeMirror.focus(),EDIT.UpdatePaste())},EDIT.Paste=function(){""!=EDIT.copiedText&&(EDIT.codeMirror.replaceSelection(EDIT.copiedText),EDIT.codeMirror.focus())},EDIT.Find=function(){EDIT.codeMirror.focus(),EDIT.codeMirror.execCommand("find")},EDIT.FindNext=function(){EDIT.codeMirror.focus(),EDIT.codeMirror.execCommand("findNext")},EDIT.Replace=function(){EDIT.codeMirror.focus(),EDIT.codeMirror.execCommand("replace")},EDIT.Undo=function(){EDIT.codeMirror.focus(),EDIT.codeMirror.execCommand("undo"),EDIT.codeMirror.focus()},EDIT.Redo=function(){EDIT.codeMirror.focus(),EDIT.codeMirror.execCommand("redo"),EDIT.codeMirror.focus()},EDIT.Hint=function(){EDIT.codeMirror.focus(),EDIT.codeMirror.execCommand("autocomplete"),EDIT.codeMirror.focus()},EDIT.CollapseAll=function(){EDIT.codeMirror.focus(),EDIT.flgCollapsed?(EDIT.codeMirror.execCommand("unfoldAll"),EDIT.flgCollapsed=!1):(EDIT.codeMirror.execCommand("foldAll"),EDIT.flgCollapsed=!0),EDIT.codeMirror.focus()},EDIT.Save=function(){EDIT.codeMirror.focus(),EDIT.savedValue!=EDIT.codeMirror.getValue()&&(alert("Please implement :: EDITSave = function(){}\nThe value to save is =\n*************\n"+EDIT.codeMirror.getValue()),EDIT.savedValue=EDIT.codeMirror.getValue(),EDIT.UpdateSave(),EDIT.codeMirror.focus())},EDIT.Open=function(){alert("File open is not implemented yet\nPlease implement :: EDITOpen = function(){}")},EDIT.LoadTextOnInit=function(){var e=!0;""!=BF.GetQsVar("text")&&(e=!1),"undefined"!=typeof EDITLoadTextOnInit&&EDITLoadTextOnInit&&(e=!1),e&&BF.DebugText("A default text for type '"+EDIT.fileType+"' is shown.\n\nPlease set a text variable in the QueryString\nor implement 'EDITLoadTextOnInit = function(){}'\nto have your own text in the editor during loading.\n\n")},"undefined"!=typeof EDITSave&&EDITSave&&(EDIT.Save=EDITSave),"undefined"!=typeof EDITOpen&&EDITOpen&&(EDIT.Open=EDITOpen),"undefined"!=typeof EDITLoadTextOnInit&&EDITLoadTextOnInit&&(EDIT.LoadTextOnInit=EDITLoadTextOnInit),EDIT.SetButtonActions=function(){BF.ElementEvent(EDIT.barIconInfo,"click",EDIT.ShowFileInfo),BF.ElementEvent(EDIT.barIconSelectLine,"click",EDIT.SelectLine),BF.ElementEvent(EDIT.barIconSelectAll,"click",EDIT.SelectAll),BF.ElementEvent(EDIT.barIconCut,"click",EDIT.Cut),BF.ElementEvent(EDIT.barIconCopy,"click",EDIT.Copy),BF.ElementEvent(EDIT.barIconPaste,"click",EDIT.Paste),BF.ElementEvent(EDIT.barIconFind,"click",EDIT.Find),BF.ElementEvent(EDIT.barIconFindNext,"click",EDIT.FindNext),BF.ElementEvent(EDIT.barIconReplace,"click",EDIT.Replace),BF.ElementEvent(EDIT.barIconUndo,"click",EDIT.Undo),BF.ElementEvent(EDIT.barIconRedo,"click",EDIT.Redo),BF.ElementEvent(EDIT.barIconSave,"click",EDIT.Save),BF.ElementEvent(EDIT.barIconCollapse,"click",EDIT.CollapseAll),BF.ElementEvent(EDIT.barIconHint,"click",EDIT.Hint)},EDIT.UpdateCut=function(){EDIT.codeMirror.getSelection()&&""!=EDIT.codeMirror.getSelection()?(EDIT.barIconCut.className="baricon cut",EDIT.barIconCut.title="Cut"):(EDIT.barIconCut.className="baricon cut notactive",EDIT.barIconCut.title="")},EDIT.UpdateCopy=function(){EDIT.codeMirror.getSelection()&&""!=EDIT.codeMirror.getSelection()?(EDIT.barIconCopy.className="baricon copy",EDIT.barIconCopy.title="Copy"):(EDIT.barIconCopy.className="baricon copy notactive",EDIT.barIconCopy.title="")},EDIT.UpdatePaste=function(){""!=EDIT.copiedText?(EDIT.barIconPaste.className="baricon paste",EDIT.barIconPaste.title="Paste"):(EDIT.barIconPaste.className="baricon paste notactive",EDIT.barIconPaste.title="")},EDIT.UpdateSave=function(){EDIT.savedValue!=EDIT.codeMirror.getValue()?(EDIT.barIconSave.className="baricon save",EDIT.barIconSave.title="Save",window.onbeforeunload=function(e){return"Discard changes?"}):(EDIT.barIconSave.className="baricon save notactive",EDIT.barIconSave.title="",window.onbeforeunload=function(e){return null})},EDIT.LoadCodeMirrorLocal=function(e,o){BF.LoadAsyncCss(EDIT.strEditorUrl+"/cm-libs/cm-base.min.css?v="+EDIT.libVersion),BF.LoadAsyncJs(EDIT.strEditorUrl+"/cm-libs/cm-base.min.js?v="+EDIT.libVersion,function(){switch(EDIT.fileType){case"html":BF.LoadAsyncJs(EDIT.strEditorUrl+"/cm-libs/cm-html.min.js?v="+EDIT.libVersion,function(){o()});break;case"xml":BF.LoadAsyncJs(EDIT.strEditorUrl+"/cm-libs/cm-xml.min.js?v="+EDIT.libVersion,function(){o()});break;case"php":BF.LoadAsyncJs(EDIT.strEditorUrl+"/cm-libs/cm-php.min.js?v="+EDIT.libVersion,function(){o()});break;case"asp":case"aspx":BF.LoadAsyncJs(EDIT.strEditorUrl+"/cm-libs/cm-asp.min.js?v="+EDIT.libVersion,function(){o()});break;case"js":case"json":BF.LoadAsyncJs(EDIT.strEditorUrl+"/cm-libs/cm-js.min.js?v="+EDIT.libVersion,function(){o()});break;case"css":BF.LoadAsyncJs(EDIT.strEditorUrl+"/cm-libs/cm-css.min.js?v="+EDIT.libVersion,function(){o()});break;case"python":BF.LoadAsyncJs(EDIT.strEditorUrl+"/cm-libs/cm-python.min.js?v="+EDIT.libVersion,function(){o()});break;case"sql":BF.LoadAsyncJs(EDIT.strEditorUrl+"/cm-libs/cm-sql.min.js?v="+EDIT.libVersion,function(){o()});break;case"c":case"cpp":case"objc":case"java":case"cs":BF.LoadAsyncJs(EDIT.strEditorUrl+"/cm-libs/cm-clike.min.js?v="+EDIT.libVersion,function(){o()});break;case"apacheconf":BF.LoadAsyncJs(EDIT.strEditorUrl+"/cm-libs/cm-apacheconf.min.js?v="+EDIT.libVersion,function(){o()});break;case"txt":o()}})},EDIT.AutoAutoComplete=function(){var e=!1,o="";EDIT.lastCahnge&&EDIT.lastCahnge.text&&EDIT.lastCahnge.text[0]&&(o=EDIT.lastCahnge.text[0],(EDIT.arrAToZ.indexOf(o.toLowerCase())>-1||"$"==o)&&(e=!0)),e&&CodeMirror.commands.autocomplete(EDIT.codeMirror,null,{completeSingle:!1})},EDIT.RebuildPhpKeywords=function(){WLIST.phpKeywordsOrig?CodeMirror.hintWords.php=WLIST.phpKeywordsOrig.slice():WLIST.phpKeywordsOrig=CodeMirror.hintWords.php.slice();for(var e=0;e<WLIST.phpKeywordsAll.length;e++){var o=WLIST.phpKeywordsAll[e];CodeMirror.hintWords.php.indexOf(o)<=-1&&CodeMirror.hintWords.php.push(o)}for(e=0;e<CodeMirror.hint.anyword(EDIT.codeMirror).list.length;e++){o=CodeMirror.hint.anyword(EDIT.codeMirror).list[e];CodeMirror.hintWords.php.indexOf(o)<=-1&&CodeMirror.hintWords.php.push(o)}},EDIT.RebuildPythonKeywords=function(){WLIST.pythonKeywordsOrig?CodeMirror.hintWords.python=WLIST.pythonKeywordsOrig.slice():WLIST.pythonKeywordsOrig=CodeMirror.hintWords.python.slice();for(var e=0;e<WLIST.pythonKeywordsAll.length;e++){var o=WLIST.pythonKeywordsAll[e];CodeMirror.hintWords.python.indexOf(o)<=-1&&CodeMirror.hintWords.python.push(o)}for(e=0;e<CodeMirror.hint.anyword(EDIT.codeMirror).list.length;e++){o=CodeMirror.hint.anyword(EDIT.codeMirror).list[e];CodeMirror.hintWords.python.indexOf(o)<=-1&&CodeMirror.hintWords.python.push(o)}},EDIT.RebuildJavaKeywords=function(){WLIST.javaKeywordsOrig?CodeMirror.hintWords["text/x-java"]=WLIST.javaKeywordsOrig.slice():WLIST.javaKeywordsOrig=CodeMirror.hintWords["text/x-java"].slice();for(var e=0;e<WLIST.javaKeywordsAll.length;e++){var o=WLIST.javaKeywordsAll[e];CodeMirror.hintWords["text/x-java"].indexOf(o)<=-1&&CodeMirror.hintWords["text/x-java"].push(o)}for(e=0;e<CodeMirror.hint.anyword(EDIT.codeMirror).list.length;e++){o=CodeMirror.hint.anyword(EDIT.codeMirror).list[e];CodeMirror.hintWords["text/x-java"].indexOf(o)<=-1&&CodeMirror.hintWords["text/x-java"].push(o)}},EDIT.RebuildCKeywords=function(){WLIST.cKeywordsOrig?CodeMirror.hintWords["text/x-csrc"]=WLIST.cKeywordsOrig.slice():WLIST.cKeywordsOrig=CodeMirror.hintWords["text/x-csrc"].slice();for(var e=0;e<WLIST.cKeywordsAll.length;e++){var o=WLIST.cKeywordsAll[e];CodeMirror.hintWords["text/x-csrc"].indexOf(o)<=-1&&CodeMirror.hintWords["text/x-csrc"].push(o)}for(e=0;e<CodeMirror.hint.anyword(EDIT.codeMirror).list.length;e++){o=CodeMirror.hint.anyword(EDIT.codeMirror).list[e];CodeMirror.hintWords["text/x-csrc"].indexOf(o)<=-1&&CodeMirror.hintWords["text/x-csrc"].push(o)}},EDIT.RebuildCSKeywords=function(){WLIST.csKeywordsOrig?CodeMirror.hintWords["text/x-csharp"]=WLIST.csKeywordsOrig.slice():WLIST.csKeywordsOrig=CodeMirror.hintWords["text/x-csharp"].slice();for(var e=0;e<WLIST.csKeywordsAll.length;e++){var o=WLIST.csKeywordsAll[e];CodeMirror.hintWords["text/x-csharp"].indexOf(o)<=-1&&CodeMirror.hintWords["text/x-csharp"].push(o)}for(e=0;e<CodeMirror.hint.anyword(EDIT.codeMirror).list.length;e++){o=CodeMirror.hint.anyword(EDIT.codeMirror).list[e];CodeMirror.hintWords["text/x-csharp"].indexOf(o)<=-1&&CodeMirror.hintWords["text/x-csharp"].push(o)}},EDIT.RebuildCppKeywords=function(){WLIST.cppKeywordsOrig?CodeMirror.hintWords["text/x-c++src"]=WLIST.cppKeywordsOrig.slice():WLIST.cppKeywordsOrig=CodeMirror.hintWords["text/x-c++src"].slice();for(var e=0;e<WLIST.cppKeywordsAll.length;e++){var o=WLIST.cppKeywordsAll[e];CodeMirror.hintWords["text/x-c++src"].indexOf(o)<=-1&&CodeMirror.hintWords["text/x-c++src"].push(o)}for(e=0;e<CodeMirror.hint.anyword(EDIT.codeMirror).list.length;e++){o=CodeMirror.hint.anyword(EDIT.codeMirror).list[e];CodeMirror.hintWords["text/x-c++src"].indexOf(o)<=-1&&CodeMirror.hintWords["text/x-c++src"].push(o)}},EDIT.RebuildObjCKeywords=function(){WLIST.objcKeywordsOrig?CodeMirror.hintWords["text/x-objectivec"]=WLIST.objcKeywordsOrig.slice():WLIST.objcKeywordsOrig=CodeMirror.hintWords["text/x-objectivec"].slice();for(var e=0;e<WLIST.objcKeywordsAll.length;e++){var o=WLIST.objcKeywordsAll[e];CodeMirror.hintWords["text/x-objectivec"].indexOf(o)<=-1&&CodeMirror.hintWords["text/x-objectivec"].push(o)}for(e=0;e<CodeMirror.hint.anyword(EDIT.codeMirror).list.length;e++){o=CodeMirror.hint.anyword(EDIT.codeMirror).list[e];CodeMirror.hintWords["text/x-objectivec"].indexOf(o)<=-1&&CodeMirror.hintWords["text/x-objectivec"].push(o)}},EDIT.RebuildKeywordsAfterChange=function(){var e="";EDIT.lastCahnge&&EDIT.lastCahnge.text&&EDIT.lastCahnge.text[0]&&(" "!=(e=EDIT.lastCahnge.text[0])&&"\n"!=e&&"\t"!=e&&"\r"!=e&&"\r\n"!=e&&";"!=e||EDIT.RebuildKeywordsByType())},EDIT.RebuildKeywordsByType=function(){"php"==EDIT.fileType&&EDIT.RebuildPhpKeywords(),"python"==EDIT.fileType&&EDIT.RebuildPythonKeywords(),"java"==EDIT.fileType&&EDIT.RebuildJavaKeywords(),"c"==EDIT.fileType&&EDIT.RebuildCKeywords(),"cs"==EDIT.fileType&&EDIT.RebuildCSKeywords(),"cpp"==EDIT.fileType&&EDIT.RebuildCppKeywords(),"objc"==EDIT.fileType&&EDIT.RebuildObjCKeywords()},EDIT.RebuildAnywordKeywords=function(){CodeMirror.hint.anyword=function(e,o){for(var r=o&&o.word||/[\w$]+/,t=o&&o.range||500,n=e.getCursor(),i=e.getLine(n.line),a=n.ch,l=a;l&&r.test(i.charAt(l-1));)--l;for(var d=l!=a&&i.slice(l,a),c=o&&o.list||[],s={},T=new RegExp(r.source,"g"),I=-1;I<=1;I+=2)for(var E=n.line,D=Math.min(Math.max(E+I*t,e.firstLine()),e.lastLine())+I;E!=D;E+=I)for(var p,u=e.getLine(E);p=T.exec(u);)E==n.line&&p[0]===d||d&&0!=p[0].lastIndexOf(d,0)||Object.prototype.hasOwnProperty.call(s,p[0])||(s[p[0]]=!0,c.push(p[0]));if("js"==EDIT.fileType||"html"==EDIT.fileType||"php"==EDIT.fileType||"asp"==EDIT.fileType||"aspx"==EDIT.fileType)for(var f=0;f<WLIST.jsKeywordsAll.length;f++){var h=WLIST.jsKeywordsAll[f];d&&0!==h.lastIndexOf(d,0)||c.indexOf(h)<=-1&&c.push(h)}if("sql"==EDIT.fileType)for(f=0;f<WLIST.sqlKeywordsAll.length;f++){h=WLIST.sqlKeywordsAll[f];d&&0!==h.lastIndexOf(d,0)&&0!==h.toLowerCase().lastIndexOf(d,0)||c.indexOf(h)<=-1&&c.push(h)}for(f=0;f<WLIST.anyKeywordsAll.length;f++){h=WLIST.anyKeywordsAll[f];d&&0!==h.lastIndexOf(d,0)||c.indexOf(h)<=-1&&c.push(h)}return{list:c,from:CodeMirror.Pos(n.line,l),to:CodeMirror.Pos(n.line,a)}}},EDIT.Init=function(){EDIT.CreateCanvas(),EDIT.CreateTopArea(),EDIT.CreateEditorArea(),EDIT.LoadLocalCss(),EDIT.fileType=BF.GetQsVar("type"),""!=EDIT.fileType&&"text"!=EDIT.fileType&&"plain"!=EDIT.fileType&&"plain_text"!=EDIT.fileType||(EDIT.fileType="txt"),"javascript"==EDIT.fileType&&(EDIT.fileType="js"),"api"==EDIT.fileType&&(EDIT.fileType="php"),WLIST.fileType=EDIT.fileType,WLIST.InitCustomHints(),WLIST.AddMoreHints(),EDIT.LoadCodeMirrorLocal(EDIT.fileType,function(){switch(EDIT.initialValue="",EDIT.copiedText="",EDIT.editorPref={},EDIT.editorPref.smartIndent=!0,EDIT.fileType){case"html":EDIT.initialValue="<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<title>Html Page</title>\n\t</head>\n\t<body>\n\t\tText Text ...\n\t</body>\n</html>\n",EDIT.editorPref.mode="text/html";break;case"xml":EDIT.initialValue="<CATALOG>\n\t<CD>\n\t\t<TITLE>The Best Songs</TITLE>\n\t</CD>\n</CATALOG>\n",EDIT.editorPref.mode="application/xml";break;case"php":EDIT.initialValue="<?php\n\necho 'code ...';\n\n?>\n",EDIT.editorPref.mode="application/x-httpd-php";break;case"asp":EDIT.initialValue='<%\n\tResponse.Write "Hello ..."\n%>\n',EDIT.editorPref.mode={name:"htmlembedded",scriptingModeSpec:"vbscript"},EDIT.editorPref.smartIndent=!1;break;case"aspx":EDIT.initialValue='<%\n\tResponse.Write "Hello ..."\n%>\n',EDIT.editorPref.mode={name:"htmlembedded",scriptingModeSpec:"text/x-csharp"};break;case"js":EDIT.initialValue="function myJsFunc(x) {\n\tconsole.log('log text...');\n}\n",EDIT.editorPref.mode="text/javascript";break;case"json":EDIT.initialValue='{\n\t"status":1,\n\t"response":"success"\n}\n',EDIT.editorPref.mode="application/json";break;case"css":EDIT.initialValue="#myid, .div {\n\twidth:80px;\n}\n",EDIT.editorPref.mode="text/css";break;case"python":EDIT.initialValue='import os\n\ndef SayHello():\n\tprint "hello"\n',EDIT.editorPref.mode={name:"python",version:3,singleLineStringErrors:!1};break;case"sql":EDIT.initialValue="SELECT *\nFROM MyTable\nINNER JOIN OtherTable\n\tON OtherTable.iMyId = MyTable.iId\nWHERE MyTable.strFirstName = 'John'\n\tAND MyTable.strLastName = 'Doe'\nLIMIT 50; -- MyQuery\n",EDIT.editorPref.mode="text/x-mysql";break;case"c":EDIT.initialValue='#include <stdio.h>\nvoid main() {\n\tint x = 1;\n\tprintf("%d", &x);\n}\n',EDIT.editorPref.mode="text/x-csrc";break;case"cpp":EDIT.initialValue="#include <iostream>\nvoid main() {\n\tint x = 1;\n\tcout<<x;\n}\n",EDIT.editorPref.mode="text/x-c++src";break;case"objc":EDIT.initialValue="@implementation YourAppDelegate\n- (BOOL)MyFunc:(NSString*)myInput {\n\treturn myInput;\n}\n",EDIT.editorPref.mode="text/x-objectivec";break;case"java":EDIT.initialValue='import com.demo.util.MyType;\npublic class MyClass {\n\tprivate void myFunc {\n\t\tString helloStr = "hi";\n\t}\n}\n',EDIT.editorPref.mode="text/x-java";break;case"cs":EDIT.initialValue='using System;\nnamespace HelloWorld {\n\tclass Hello {\n\t\tvoid Main() {\n\t\t\tConsole.WriteLine("Hello World!");\n\t\t}\n\t}\n}\n',EDIT.editorPref.mode="text/x-csharp";break;case"apacheconf":EDIT.initialValue="<VirtualHost *:80>\n\tServerAdmin webmaster@localhost\n\tDocumentRoot /home/www/root\n</VirtualHost>\n",EDIT.editorPref.mode="text/x-nginx-conf";break;case"txt":EDIT.initialValue="text text text ...\n",EDIT.editorPref.mode="text/plain"}""!=BF.GetQsVar("text")?EDIT.initialValue=BF.GetQsVar("text"):EDIT.LoadTextOnInit(),EDIT.editorPref.value=EDIT.initialValue,EDIT.editorPref.lineNumbers=!0,EDIT.editorPref.lineWrapping=!1,EDIT.editorPref.styleActiveLine=!0,EDIT.editorPref.autoCloseBrackets=!0,EDIT.editorPref.matchBrackets=!0,EDIT.editorPref.tabSize=2,EDIT.editorPref.indentUnit=2,EDIT.editorPref.indentWithTabs=!0,EDIT.editorPref.undoDepth=500,EDIT.editorPref.matchTags={bothTags:!0},EDIT.editorPref.autoCloseTags=!0,EDIT.editorPref.foldGutter=!0,EDIT.editorPref.gutters=["CodeMirror-linenumbers","CodeMirror-foldgutter"],EDIT.editorPref.extraKeys={"Ctrl-H":"replace",F3:"findNext","Shift-F3":"findPrev","Ctrl-J":"toMatchingTag","Ctrl-Q":"toggleFold","Alt-0":"foldAll","Alt-Shift-0":"unfoldAll","Ctrl-Space":"autocomplete","Ctrl-S":function(e){EDIT.Save()},"Ctrl-O":function(e){EDIT.Open()}};for(var e=[],o=1;o<=100;o++)e.push({color:"#eaeaea",column:2*o,lineStyle:"dashed"});EDIT.editorPref.rulers=e,EDIT.codeMirror=CodeMirror(EDIT.editor,EDIT.editorPref),EDIT.savedValue=EDIT.initialValue,EDIT.tempValue=EDIT.initialValue,EDIT.codeMirror.setOption("theme","xq-light"),EDIT.codeMirror.setSize("100%","100%"),EDIT.codeMirror.focus(),EDIT.SetButtonActions(),EDIT.codeMirror.on("cursorActivity",function(e){EDIT.UpdateCut(),EDIT.UpdateCopy()}),EDIT.codeMirror.on("change",function(e,o){EDIT.lastCahnge=o,EDIT.flgAutoIntellisense&&EDIT.AutoAutoComplete(),EDIT.RebuildKeywordsAfterChange(),EDIT.UpdateSave()}),window.setTimeout(EDIT.RebuildAnywordKeywords,2e3),window.setTimeout(EDIT.RebuildKeywordsByType,2500)})},EDIT.Init();