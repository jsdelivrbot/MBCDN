var MP={iActivePops:0,flgMobileDevice:!1,dvPopsContainer:null,marginTop:10,marginLeft:10,AddCss:function(e){var o=e,t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=o:n.appendChild(document.createTextNode(o)),t.appendChild(n)},OverrideStyles:function(){}};"undefined"!=typeof MPOverrideStyles&&MPOverrideStyles&&(MP.OverrideStyles=MPOverrideStyles),MP.AddEvent=function(e,o,t){e.addEventListener?e.addEventListener(o,t,!1):e.attachEvent&&e.attachEvent("on"+o,t)},MP.RemoveEvent=function(e,o,t){e.removeEventListener?e.removeEventListener(o,t,!1):e.detachEvent&&e.detachEvent("on"+o,t)},MP.EnterFullScreen=function(){(document.fullScreenElement&&null!==document.fullScreenElement||!document.mozFullScreen&&!document.webkitIsFullScreen)&&(document.documentElement.requestFullScreen?document.documentElement.requestFullScreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullScreen&&document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT))},MP.ExitFullScreen=function(){document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()},MP.GetPopsContainer=function(){document.getElementById("pops_container")||(document.body.innerHTML+="<div id='pops_container'></div>"),MP.dvPopsContainer=document.getElementById("pops_container")},MP.OpenNewPop=function(e,o,t,n,i,d,l,r,c){if(MP.GetPopsContainer(),MP.iActivePops>=10)alert("Trust me, you don't want more than 10 modals in a row...");else{0==MP.iActivePops&&(MP.flgMobileDevice&&MP.EnterFullScreen(),document.body.className+=" locked_for_modal",1!=n&&MP.AddEvent(document,"keyup",MP.ClickedToRemovePop)),MP.iActivePops++;var a="";t&&""!=t&&(a="max-width: "+t.toString()+"px !important;");var p="";1==n&&(p="display:none !important;");var m="";i&&""!=i&&(m="color:"+i+" !important;");var s="";d&&""!=d&&(s="background-color:"+d+" !important;");var u="";l&&""!=l&&(u="background-color:"+l+" !important;");var P="";r&&""!=r&&(P="color:"+r+" !important;");var v="";c&&""!=c&&(v="background-color:"+c+" !important;"),MP.dvPopsContainer.innerHTML+="<div id='pop_modal_shadow_"+MP.iActivePops.toString()+"' class='pop_modal_shadow'></div>",MP.dvPopsContainer.innerHTML+="<div id='pop_modal_window_"+MP.iActivePops.toString()+"' class='pop_modal_window' style='"+a+"'></div>";var g=document.getElementById("pop_modal_window_"+MP.iActivePops.toString());g.innerHTML+="<div id='pop_modal_title_"+MP.iActivePops.toString()+"' class='pop_modal_title' style='"+m+s+"'>"+e+"</div>",g.innerHTML+="<div id='pop_modal_content_"+MP.iActivePops.toString()+"' class='pop_modal_content' style='"+u+"'>"+o+"</div>",document.getElementById("pop_modal_title_"+MP.iActivePops.toString()).innerHTML+="<div id='pop_modal_closebtn_"+MP.iActivePops.toString()+"' class='pop_modal_closebtn' onclick='MP.RemoveLastPop();' style='"+p+P+v+"'>X</div>",MP.FixWindowsMargins(),MP.DragElement(g)}},MP.FixWindowsMargins=function(){MP.GetPopsContainer();var e=0,o=0;"number"==typeof window.innerWidth?(e=window.innerWidth,o=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(e=document.documentElement.clientWidth,o=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(e=document.body.clientWidth,o=document.body.clientHeight);for(var t=1;t<=10;t++)if(document.getElementById("pop_modal_window_"+t.toString())){var n=document.getElementById("pop_modal_window_"+t.toString()),i=(MP.marginTop,MP.marginLeft,n.offsetWidth),d=n.offsetHeight;n.style.marginTop=((o-d)/2).toString()+"px",n.style.marginLeft=((e-i)/2).toString()+"px"}},MP.RemoveLastPop=function(){MP.GetPopsContainer();var e=document.getElementById("pop_modal_window_"+MP.iActivePops.toString()),o=document.getElementById("pop_modal_shadow_"+MP.iActivePops.toString());e&&MP.dvPopsContainer.removeChild(e),o&&MP.dvPopsContainer.removeChild(o),MP.iActivePops--,0==MP.iActivePops&&(MP.RemoveEvent(document,"keyup",MP.ClickedToRemovePop),document.body.className=document.body.className.replace(" locked_for_modal",""),MP.flgMobileDevice&&MP.ExitFullScreen())},MP.ClickedToRemovePop=function(e){var o=e.key||e.keyCode||e.which;"27"!=o.toString()&&"escape"!=o.toString().toLowerCase()&&"esc"!=o.toString().toLowerCase()||MP.RemoveLastPop()},MP.RemoveAllPops=function(){MP.GetPopsContainer(),MP.dvPopsContainer.innerHTML="",MP.iActivePops=0,MP.RemoveEvent(document,"keyup",MP.ClickedToRemovePop),document.body.className=document.body.className.replace(" locked_for_modal",""),MP.flgMobileDevice&&MP.ExitFullScreen()},MP.OpenNewPopClean=function(e,o,t,n,i,d,l,r,c){MP.GetPopsContainer(),MP.RemoveAllPops(),MP.OpenNewPop(e,o,t,n,i,d,l,r,c)},MP.DragElement=function(e){var o=0,t=0,n=0,i=0;function d(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1,n=e.clientX,i=e.clientY,document.onmouseup=r,document.onmousemove=l}function l(d){(d=d||window.event).preventDefault?d.preventDefault():d.returnValue=!1,o=n-d.clientX,t=i-d.clientY,n=d.clientX,i=d.clientY,e.style.marginTop=e.offsetTop-t+"px",e.style.marginLeft=e.offsetLeft-o+"px"}function r(){document.onmouseup=null,document.onmousemove=null}document.getElementById(e.id.replace("window","title"))?document.getElementById(e.id.replace("window","title")).onmousedown=d:e.onmousedown=d},MP.Init=function(){MP.iActivePops=0,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(MP.flgMobileDevice=!0);var e="";e+=" .locked_for_modal { overflow:hidden; height:100%; }",e+=' .pop_modal_shadow { margin:0; padding:0; position: fixed; top:0; left:0; width:100%; height:100%; background-color:#333; -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";filter: alpha(opacity=50);-moz-opacity: 0.5;-khtml-opacity: 0.5;opacity: 0.5; }',e+=" .pop_modal_window { margin:0; padding:0; position:fixed; top:0; left:0; width:90%; max-width: 320px; font-family: arial,verdana,helvetica,sans-serif; -webkit-box-shadow: 4px 4px 5px 0px rgba(50, 50, 50, 0.75); -moz-box-shadow: 4px 4px 5px 0px rgba(50, 50, 50, 0.75); box-shadow: 4px 4px 5px 0px rgba(50, 50, 50, 0.75); }",e+=" .pop_modal_title { margin:0; padding:0; width:calc(100% - 8px); background-color:blue; color:white; height:24px; padding: 4px; font-size: 24px; line-height: 24px; position: relative; overflow:hidden; text-align: center; border-top-left-radius: 4px; border-top-right-radius: 4px; }",e+=" .pop_modal_content { margin:0; padding:0; width:100%; background-color:white; position: relative; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; }",e+=" .pop_modal_closebtn { margin:0; padding:0; color:black; background-color:white; font-size: 20px; line-height:16px; width:16px; height:16px; padding: 4px; position:absolute; top: 0; right:0; margin-top:4px; margin-right: 4px; cursor: pointer; text-align: center; overflow:hidden; }";for(var o=1;o<=10;o++){var t=1e3+10*o+1,n=1e3+10*o+2;e+=" #pop_modal_shadow_"+o.toString()+" { z-index: "+t.toString()+" }",e+=" #pop_modal_window_"+o.toString()+" { z-index: "+n.toString()+" }"}MP.AddCss(e),MP.OverrideStyles(),window.setTimeout(function(){MP.GetPopsContainer(),MP.RemoveAllPops()},1)},MP.AddEvent(window,"load",MP.Init),MP.AddEvent(window,"resize",MP.FixWindowsMargins);
